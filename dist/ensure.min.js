"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ensure=t()}(this,(function(){function e(e){return!!Array.isArray(e)}function t(e){return"number"==typeof e}function n(e){return"string"==typeof e}function r(e,t){return t instanceof RegExp?t.test(e):"string"==typeof t&&new RegExp(t).test(e)}function u(e,t){return!!(Array.isArray(t)&&["string","number","boolean"].includes(typeof e)||"string"==typeof t&&"string"==typeof e)&&t.includes(e)}function i(e,t){return e===t}function o(e){return!(isNaN(parseFloat(e))||isNaN(Number(e))||!isFinite(e))}function s(e,t){return o(e)&&o(t)&&Number(e)===Number(t)}function a(e){return!e||(o(e)?0===e:Object.prototype.hasOwnProperty.call(e,"length")?0===e.length:"object"!=typeof e||0===Object.keys(e).length)}function l(e,t){return o(e)&&o(t)&&Number(e)>Number(t)}function c(e,t){return o(e)&&o(t)&&Number(e)>=Number(t)}function f(e,t){return o(e)&&o(t)&&Number(e)<Number(t)}function g(e,t){return o(e)&&o(t)&&Number(e)<=Number(t)}function m(e,t){return e.length===t}function y(e){return!!e}function h(e={}){let t={...N,...e};if("function"==typeof b.Proxy)return()=>{let e=[],n=new Proxy(t,{get:(t,r)=>"test"===r?d(e):p(t,r)?(...t)=>(e.push({name:r,args:t}),n):void 0});return n};let n=Object.keys(t);return()=>{let e=[];return n.reduce((n,r)=>Object.assign(n,{...p(t,r)&&{[r]:(...t)=>(e.push({name:r,args:t}),n)}}),{test:d(e)})}}let p=(e,t)=>((e=Object.prototype.hasOwnProperty.call(e,t)&&"function"==typeof e[t])||function(e){setTimeout(()=>{throw Error(`[ensure]: ${e}`)})}(`Rule "${t}" was not found in rules object. Make sure you typed it correctly.`),e),b=Function("return this")();e.negativeForm="isNotArray",t.negativeForm="isNotNumber",n.negativeForm="isNotString",r.negativeForm="notMatches",u.negativeForm="notInside",i.negativeForm="notEquals",o.negativeForm="isNotNumeric",s.negativeForm="numberNotEquals",a.negativeForm="isNotEmpty",l.alias="gt",c.alias="gte",f.alias="lt",g.alias="lte",m.negativeForm="lengthNotEquals",y.negativeForm="isFalsy";var N=function(e){for(let t in e){let n=e[t].negativeForm,r=e[t].alias;n&&(e[n]=(...n)=>!e[t](...n)),r&&(e[r]=e[t])}return e}({isArray:e,isNumber:t,isString:n,matches:r,inside:u,equals:i,numberEquals:s,isNumeric:o,isEmpty:a,greaterThan:l,greaterThanOrEquals:c,lessThan:f,lessThanOrEquals:g,longerThan:function(e,t){return e.length>t},longerThanOrEquals:function(e,t){return e.length>=t},shorterThan:function(e,t){return e.length<t},shorterThanOrEquals:function(e,t){return e.length<=t},lengthEquals:m,isOdd:e=>!!o(e)&&0!=e%2,isEven:e=>!!o(e)&&0==e%2,isTruthy:y});let d=e=>t=>e.every(({name:e,args:n})=>function(e,t,...n){try{return!0===e(t,...n)}catch(e){return!1}}(N[e],t,...n)),v=new h;return v.Ensure=h,v}));
