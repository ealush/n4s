"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).enforce=t()}(this,(function(){function e(e){return!!Array.isArray(e)}function t(e){return"number"==typeof e}function n(e){return"string"==typeof e}function r(e,t){return t instanceof RegExp?t.test(e):"string"==typeof t&&new RegExp(t).test(e)}function u(e,t){return!!(Array.isArray(t)&&["string","number","boolean"].includes(typeof e)||"string"==typeof t&&"string"==typeof e)&&t.includes(e)}function o(e,t){return e===t}function i(e){return!(isNaN(parseFloat(e))||isNaN(Number(e))||!isFinite(e))}function s(e,t){return i(e)&&i(t)&&Number(e)===Number(t)}function a(e){return!e||(i(e)?0===e:Object.prototype.hasOwnProperty.call(e,"length")?0===e.length:"object"!=typeof e||0===Object.keys(e).length)}function c(e,t){return i(e)&&i(t)&&Number(e)>Number(t)}function f(e,t){return i(e)&&i(t)&&Number(e)>=Number(t)}function l(e,t){return i(e)&&i(t)&&Number(e)<Number(t)}function g(e,t){return i(e)&&i(t)&&Number(e)<=Number(t)}function m(e,t){return e.length===t}function y(e){return!!e}function h(e,t,...n){if("function"==typeof e&&!0!==e(t,...n))throw Error(`[Enforce]: invalid ${typeof t} value`)}function p(e={}){let t={...d,...e};if("function"==typeof E.Proxy)return e=>{let n=new Proxy(t,{get:(t,r)=>{if(N(t,r))return(...u)=>(h(t[r],e,...u),n)}});return n};let n=Object.keys(t);return e=>n.reduce((n,r)=>Object.assign(n,{...N(t,r)&&{[r]:(...u)=>(h(t[r],e,...u),n)}}),{})}function b(e={}){let t={...d,...e};if("function"==typeof E.Proxy)return()=>{let e=[],n=new Proxy(t,{get:(t,r)=>"test"===r?F(e):N(t,r)?(...t)=>(e.push({name:r,args:t}),n):void 0});return n};let n=Object.keys(t);return()=>{let e=[];return n.reduce((n,r)=>Object.assign(n,{...N(t,r)&&{[r]:(...t)=>(e.push({name:r,args:t}),n)}}),{test:F(e)})}}let N=(e,t)=>((e=Object.prototype.hasOwnProperty.call(e,t)&&"function"==typeof e[t])||function(e){setTimeout(()=>{throw Error(`[n4s]: ${e}`)})}(`Rule "${t}" was not found in rules object. Make sure you typed it correctly.`),e),E=Function("return this")();e.negativeForm="isNotArray",t.negativeForm="isNotNumber",n.negativeForm="isNotString",r.negativeForm="notMatches",u.negativeForm="notInside",o.negativeForm="notEquals",i.negativeForm="isNotNumeric",s.negativeForm="numberNotEquals",a.negativeForm="isNotEmpty",c.alias="gt",f.alias="gte",l.alias="lt",g.alias="lte",m.negativeForm="lengthNotEquals",y.negativeForm="isFalsy";var d=function(e){for(let t in e){let n=e[t].negativeForm,r=e[t].alias;n&&(e[n]=(...n)=>!e[t](...n)),r&&(e[r]=e[t])}return e}({isArray:e,isNumber:t,isString:n,matches:r,inside:u,equals:o,numberEquals:s,isNumeric:i,isEmpty:a,greaterThan:c,greaterThanOrEquals:f,lessThan:l,lessThanOrEquals:g,longerThan:function(e,t){return e.length>t},longerThanOrEquals:function(e,t){return e.length>=t},shorterThan:function(e,t){return e.length<t},shorterThanOrEquals:function(e,t){return e.length<=t},lengthEquals:m,isOdd:e=>!!i(e)&&0!=e%2,isEven:e=>!!i(e)&&0==e%2,isTruthy:y});let v=new p;v.Enforce=p;let F=e=>t=>e.every(({name:e,args:n})=>function(e,t,...n){try{return!0===e(t,...n)}catch(e){return!1}}(d[e],t,...n)),O=new b;return O.Ensure=b,v.ensure=O,v.Ensure=O.Ensure,v}));
